@model IEnumerable<FashionStore.Models.SanPham>

@{
    ViewBag.Title = "Quản lý sản phẩm";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
    var grid = new WebGrid(Model, canPage: true, defaultSort: "id", rowsPerPage: 10);
}

<style>
    .product-header {
        background: linear-gradient(135deg, #CC9966, #2c3e50);
        color: white;
        padding: 25px;
        border-radius: 10px;
        margin-bottom: 25px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .search-container {
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        margin-bottom: 25px;
    }

    .search-input {
        width: 300px;
        padding: 10px 15px;
        border: 1px solid #ddd;
        border-radius: 5px;
        margin-right: 10px;
    }

    .search-button {
        padding: 10px 20px;
        background: #CC9966;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        transition: all 0.3s ease;
    }

        .search-button:hover {
            background: #2c3e50;
        }

    .create-button {
        padding: 12px 25px;
        background: #2ecc71;
        color: white;
        text-decoration: none;
        border-radius: 5px;
        transition: all 0.3s ease;
    }

        .create-button:hover {
            background: #27ae60;
            text-decoration: none;
            color: white;
        }

    .grid-container {
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }

    .table {
        width: 100%;
        margin-bottom: 0;
    }

        .table th {
            background: #f8f9fa;
            color: #2c3e50;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.9rem;
        }

        .table td {
            vertical-align: middle;
        }

    .action-link {
        padding: 6px 12px;
        border-radius: 4px;
        color: white !important;
        text-decoration: none;
        transition: all 0.3s ease;
    }

    .view-link {
        background: #3498db;
    }

        .view-link:hover {
            background: #2980b9;
            text-decoration: none;
        }

    .webgrid-footer {
        padding: 15px 0;
        text-align: center;
    }

        .webgrid-footer a {
            padding: 8px 15px;
            margin: 0 3px;
            background: #CC9966;
            color: white;
            border-radius: 5px;
            text-decoration: none;
            transition: all 0.3s ease;
        }

            .webgrid-footer a:hover {
                background: #2c3e50;
            }

    .webgrid-selected-page {
        background: #2c3e50 !important;
    }
</style>

<div class="product-header">
    <h2><i class="fas fa-box mr-2"></i>Quản lý sản phẩm</h2>
    <a href="@Url.Action("Create")" class="create-button">
        <i class="fas fa-plus mr-2"></i>Thêm sản phẩm mới
    </a>
</div>

<div class="search-container">
    @using (Html.BeginForm("Index", "SanPhams", FormMethod.Get, new { @class = "d-flex align-items-center" }))
    {
        <input type="text" name="searchString" class="search-input"
               placeholder="Tìm kiếm sản phẩm..." value="@ViewBag.SearchString" />
        <button type="submit" class="search-button">
            <i class="fas fa-search mr-2"></i>Tìm kiếm
        </button>
    }
</div>

<div class="grid-container">
    @grid.GetHtml(
        tableStyle: "table table-bordered table-hover",
        headerStyle: "webgrid-header",
        footerStyle: "webgrid-footer",
        alternatingRowStyle: "webgrid-alternating-row",
        selectedRowStyle: "webgrid-selected-row",
        rowStyle: "webgrid-row-style",
        columns: grid.Columns(
            grid.Column("TenSP", "Tên Sản Phẩm"),
            grid.Column("LoaiHang.TenLoai", "Loại Hàng"),
            grid.Column("NhaCungCap.TenNCC", "Nhà Cung Cấp"),
            grid.Column("GiaBan", "Giá Bán", format: @<text>@item.GiaBan.ToString("#,##0 đ")</text>),
grid.Column("SoLuong", "Số Lượng"),
grid.Column("MoTa", "Mô Tả", format: @<text>@Html.Raw(item.MoTa.Length > 50 ? item.MoTa.Substring(0, 50) + "..." : item.MoTa)</text>),
grid.Column(header: "Thao tác", format: @<text>
    <a href="@Url.Action("Details", new { id = item.MaSP })" class="action-link view-link">
        <i class="fas fa-eye"></i> Xem
    </a>
</text>)
)
)
</div>
